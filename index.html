<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Traces Netcoupe</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css">
    <script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>

    <script src="https://kit.fontawesome.com/e8228d78b3.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sidebar-v2@0.4.0/css/leaflet-sidebar.css" integrity="sha256-FIZlRBXnW3JL4Pb7oAW2QNCGAG5uJqYlFbZb9qAKaso=" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/sidebar-v2@0.4.0/js/leaflet-sidebar.js" integrity="sha256-NQzshErvg7W7EhLN0umegsGFdejTaaAWM/vzq1yfSEg=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>

    <link rel="stylesheet" href="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.css" />
    <script src="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.js"></script>

    <script src="https://rawgit.com/mapshakers/leaflet-control-window/master/src/L.Control.Window.js"></script>
    <link rel="stylesheet" href="https://rawgit.com/mapshakers/leaflet-control-window/master/src/L.Control.Window.css" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
    <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>

    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.Spin/1.1.2/leaflet.spin.min.js"></script>
    
    <link rel="stylesheet" href="css/application.css">
    <link rel="stylesheet" href="css/traces.css">
    <link rel="stylesheet" href="css/statistics.css">
    

    <script src="js/common.js"></script>
    <script src="js/application.js"></script>
    <script src="js/airspace.js"></script>
    <script src="js/measuringTool.js"></script>
    <script src="js/statistics.js"></script>

</head>
<body>    
    <div id="sidebar" class="sidebar collapsed">
        <!-- Nav tabs -->
        <div class="sidebar-tabs">
            <ul role="tablist">
                <li><a href="#home" role="tab"><i class="fa fa-info"></i></a></li>
                <li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
            </ul>
        </div>

        <!-- Tab panes -->
        <div class="sidebar-content">
            <div class="sidebar-pane" id="home">
                <h1 class="sidebar-header">
                    Cumulative Tracks
                    <span class="sidebar-close"><i class="fa fa-caret-left"></i></span>
                </h1>
                <div class="container">
                    <div class="row">
                    <div class="col-sm-6">
                        <div class="item">Analyse du:</div>
                    </div>
                    <div class="col-sm-6">
                        <div id="start-date" class="item"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6">
                        <div class="item">Durée calcul:</div>
                    </div>
                    <div class="col-sm-6">
                        <div id="duration" class="item"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6">
                        <div class="item">Nb Vols:</div>
                    </div>
                    <div class="col-sm-2">
                        <div id="processed-flights-count" class="item"></div>
                    </div>
                    <div class="col-sm-2"><span>/</span></div>
                    <div class="col-sm-2">
                        <div id="flights-count" class="item"></div>
                    </div>
                </div>
                </div>
            </div>

            <div class="sidebar-pane" id="settings">
                <h1 class="sidebar-header">Configuration<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                <div class="container">
                    <!-- Airspace -->
                    <div class="row" id="switch-airspace-container">
                        <div class="col-sm-4">
                            <label class="form-check-label"><input type="checkbox" class="form-check-input" id="switch-airspace">Espace Aérien</label>
                        </div>
                        <div class="col-sm-8">
                            <div class="btn-group btn-group-sm btn-group-toggle disabled" data-toggle="buttons" id="group-airspace-layer-selector">
                                <label class="btn btn-outline-primary active">
                                  <input type="radio" name="options" id="chk-vector-airspace" autocomplete="off" checked> Vector layer
                                </label>
                                <label class="btn btn-outline-primary">
                                  <input type="radio" name="options" id="chk-openaip-airspace" autocomplete="off"> OpenAip Tiles Layer
                                </label>
                              </div>
                        </div>
                    </div>
                    <!-- Measuring tool -->
                    <div class="row">
                        <div class="col-sm-12">
                            <label class="form-check-label"><input class="form-check-input" type="checkbox" id="chk-show-measuring-tools">Outils de mesure</label>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

	<div id="map"></div>
</body>
<script src="js/interface.js"></script>
<script>
var isAirspaceShown = false;

// --- Map related --
var zoomLevel = 6;
var maxZoomLevel = 12;
var center = [47.5, 4.8];
//center = [45.5917, 5.8813];

var tracksMetaData = null;
var _map = null;
var _isAirspaceVisible = false;
var _layerOpenAirspaceLabels = null;
var _layerOpeneAirspace = null;

var _statWindow = null
var _easy = null;

  // ---------- Document loaded ----------
  $(function () {
    setupMap();
    setupEasyButtons();
    
    
  });
</script>